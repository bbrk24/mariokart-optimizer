'civet coffeePrototype'

class XHRError < Error
    progress?: number
    statusCode?: number

    @(message: string, xhr: XMLHttpRequest, event: ProgressEvent<XMLHttpRequestEventTarget>)
        progress := if event.lengthComputable then event.loaded / event.total
        super `${message} (Status: ${xhr.status}, Progress: ${progress})`
        @progress = progress
        @statusCode = xhr.status || undefined

XHRError::name = XHRError.name

export default XHRError
